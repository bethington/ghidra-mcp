# Version Update Checklist

This checklist ensures all version references are updated consistently when releasing a new version.

## üî¢ Version Update Locations

When bumping the version from `X.Y.Z` to `X.Y.Z+1`, update the following files:

### Core Build Files (REQUIRED)
- [ ] `pom.xml` - Line 9: `<version>X.Y.Z</version>`
- [ ] `src/main/resources/extension.properties` - Line 5: `version=X.Y.Z`

### Java Source Code (REQUIRED)
- [ ] `src/main/java/com/xebyte/GhidraMCPPlugin.java` - Line 64: `shortDescription = "GhidraMCP vX.Y.Z - HTTP server plugin"`
- [ ] `src/main/java/com/xebyte/GhidraMCPPlugin.java` - Line 65: `description = "GhidraMCP vX.Y.Z - Starts an embedded..."`
- [ ] `src/main/java/com/xebyte/GhidraMCPPlugin.java` - Line 70: Add new version entry `vX.Y.Z: [Feature description]`
- [ ] `src/main/java/com/xebyte/GhidraMCPPlugin.java` - Line ~5288: `version.append("  \"plugin_version\": \"X.Y.Z\",\n");`

### Documentation Files (REQUIRED)
- [ ] `README.md` - Line 6: Badge `[![MCP Version](https://img.shields.io/badge/MCP-X.Y.Z-purple.svg)]`
- [ ] `README.md` - Line 9: Zip reference `[Download Latest Release](https://github.com/bethington/ghidra-mcp/releases/download/vX.Y.Z/GhidraMCP-X.Y.Z.zip)`
- [ ] `README.md` - Line ~230: `**Current Version**: X.Y.Z`
- [ ] `README.md` - Line ~237: `**Latest Enhancement**: [Feature description] (vX.Y.Z)`
- [ ] `CLAUDE.md` - Line 9: `**Current Version**: X.Y.Z`
- [ ] `CLAUDE.md` - Line 60: `- \`target/GhidraMCP-X.Y.Z.zip\` - Ghidra extension package`
- [ ] `CLAUDE.md` - Line 100: `# File ‚Üí Install Extensions ‚Üí Add Extension ‚Üí Select GhidraMCP-X.Y.Z.zip`
- [ ] `CHANGELOG.md` - Add new version section at top with release date
- [ ] `docs/GHIDRA_MCP_TOOLS_REFERENCE.md` - Line 5: `**Version:** X.Y.Z`
- [ ] `docs/GHIDRA_MCP_TOOLS_REFERENCE.md` - Line ~751: `**Generated by:** Ghidra MCP Server vX.Y.Z`
- [ ] `docs/DOCUMENTATION_INDEX.md` - Line 7: `- **Version**: X.Y.Z`

## üìã Release Process

### 1. Pre-Release Preparation
```powershell
# Check for any uncommitted changes
git status

# Review all changes since last release
git log v[PREVIOUS_VERSION]..HEAD --oneline
```

### 2. Update All Version References
Use this checklist to update all files listed above.

### 3. Update CHANGELOG.md
Add a new section at the top:
```markdown
## vX.Y.Z - YYYY-MM-DD

### üéØ Release Focus
[Brief description]

### ‚ú® New Features
- Feature 1
- Feature 2

### üêõ Bug Fixes
- Fix 1
- Fix 2

### üìö Documentation
- Doc update 1
- Doc update 2

### üóÇÔ∏è Files Modified
- List of modified files

**See**: Tag [vX.Y.Z](https://github.com/bethington/ghidra-mcp/releases/tag/vX.Y.Z)
```

### 4. Build and Test
```powershell
# Build the project
& "$env:USERPROFILE\tools\apache-maven-3.9.6\bin\mvn.cmd" clean package assembly:single

# Verify the artifact was created
Test-Path "target\GhidraMCP-X.Y.Z.zip"

# Check that all tests pass
# BUILD SUCCESS and 0 failures required
```

### 5. Commit and Tag
```powershell
# Stage all changes
git add -A

# Commit with semantic versioning message
git commit -m "chore: Bump version to X.Y.Z"

# Create annotated tag
git tag -a vX.Y.Z -m "Release vX.Y.Z - [Brief description]

Key changes:
- Change 1
- Change 2
- Change 3"

# Verify tag was created
git tag -l | Select-String "vX.Y.Z"
```

### 6. Push to GitHub
```powershell
# Push commits and tags
git push origin main --tags

# Verify push succeeded
git log --oneline -3
```

### 7. Create GitHub Release
1. Navigate to: https://github.com/bethington/ghidra-mcp/releases/new
2. Select tag: `vX.Y.Z`
3. Title: `Release vX.Y.Z - [Brief Description]`
4. Description: Copy from CHANGELOG.md vX.Y.Z section
5. Upload artifact: `target/GhidraMCP-X.Y.Z.zip`
6. Click "Publish release"

### 8. Post-Release Verification
- [ ] Verify GitHub release page displays correctly
- [ ] Test download link for artifact
- [ ] Verify badge updates on README.md
- [ ] Deploy to local Ghidra instance: `.\deploy-to-ghidra.ps1`
- [ ] Test plugin loads in Ghidra without errors

## üîç Version Reference Search Commands

To find all version references in the codebase:

```powershell
# Search for old version pattern
grep -r "X\.Y\.Z" --include="*.md" --include="*.java" --include="*.xml" --include="*.properties"

# Or use VS Code search (Ctrl+Shift+F) with regex:
# Pattern: \d+\.\d+\.\d+
# Include: *.md,*.java,*.xml,*.properties
# Exclude: target/,CHANGELOG.md,docs/releases/
```

## ‚ö†Ô∏è Common Mistakes to Avoid

1. **Forgetting Java plugin description version** - Line 70 needs new version entry added, not just updated
2. **Missing version in plugin_version JSON** - Line ~5288 in GhidraMCPPlugin.java
3. **Not updating CHANGELOG.md** - Always add release notes before tagging
4. **Forgetting to rebuild** - Must run `mvn clean package assembly:single` after version changes
5. **Not testing the artifact** - Always verify the .zip file was created with correct version
6. **Pushing without tags** - Use `git push origin main --tags` to push both commits and tags

## üìù Semantic Versioning Guide

- **Major version (X.0.0)**: Breaking changes, incompatible API changes
- **Minor version (0.Y.0)**: New features, backward compatible
- **Patch version (0.0.Z)**: Bug fixes, backward compatible

## üéØ Quick Reference

Current version: **1.8.1**
Previous version: 1.8.0
Next patch: 1.8.2
Next minor: 1.9.0
Next major: 2.0.0

---

**Last Updated**: October 25, 2025 (v1.8.1)
